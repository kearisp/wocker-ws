#!/bin/bash

CERT_DIR=/etc/nginx/certs

if [ ! -f $CERT_DIR/RootCA.key ]; then
    openssl req -x509 -nodes -new -sha256 \
        -days 1024 \
        -newkey rsa:2048 \
        -keyout $CERT_DIR/RootCA.key \
        -out $CERT_DIR/RootCA.pem \
        -subj "/C=US/CN=Wocker-Root-CA"

    openssl x509 \
        -outform pem \
        -in $CERT_DIR/RootCA.pem \
        -out $CERT_DIR/RootCA.crt
fi
